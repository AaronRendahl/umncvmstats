<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>About Data • umncvmstats</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="About Data">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">umncvmstats</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/starting.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/data.html">About Data</a></li>
    <li><a class="dropdown-item" href="../articles/graphics.html">About Graphics</a></li>
    <li><a class="dropdown-item" href="../articles/proportions.html">Inference for Proportions</a></li>
    <li><a class="dropdown-item" href="../articles/means.html">Inference for Means</a></li>
    <li><a class="dropdown-item" href="../articles/models.html">Inference about Models</a></li>
    <li><a class="dropdown-item" href="../articles/options.html">Additional Options</a></li>
    <li><a class="dropdown-item" href="../articles/summary.html">Summary</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>About Data</h1>
            
      

      <div class="d-none name"><code>data.Rmd</code></div>
    </div>

    
    
<p>We’ll mostly use functions from the <code>tidyverse</code> when
working with data; for more on the <code>tidyverse</code>, see the
following resources:</p>
<ul>
<li><a href="https://dplyr.tidyverse.org/" class="external-link">dplyr Reference</a></li>
<li><a href="https://r4ds.hadley.nz/" class="external-link">R for Data Science book</a></li>
</ul>
<div class="section level2">
<h2 id="about-data-sets">About data sets<a class="anchor" aria-label="anchor" href="#about-data-sets"></a>
</h2>
<p>A good data file …</p>
<ul>
<li>Is rectangular</li>
<li>Has observations in rows and variables in columns</li>
<li>Can have extra information (metadata) in rows above the data; we can
have R skip these</li>
<li>Has no information in formatting (ie, color) or position (ie,
sorting shouldn’t lose information)</li>
<li>Has minimal computation or duplication</li>
<li>Has well-labeled variables…</li>
</ul>
<p>Unfortunately computers and humans have different ideas about what a
good label is.</p>
<ul>
<li>Good computer labels: Alphanumeric and underscore only, starting
with a letter. Units often get in the way. (eg,
<code>BloodPressure</code> or <code>blood_pressure</code>)</li>
<li>Good human labels: spaces, parentheses allowed, units should be
specified. “Blood Pressure (mmHg)”</li>
</ul>
<p>Consider using two rows for labels, with human labels (to be skipped
when reading data in) above computer labels.</p>
</div>
<div class="section level2">
<h2 id="reading-in-data">Reading in data<a class="anchor" aria-label="anchor" href="#reading-in-data"></a>
</h2>
<p>We’ll most often read in data from either csv or Excel sheets. The
functions <code>read_csv</code> and <code>read_excel</code> are used for
this.</p>
<p>Both take the filename as the first parameter, and have additional
parameters <code>na</code> to specify what values should be considered
missing, and <code>skip</code> to skip a certain number of rows at the
top. For an Excel sheet, there’s also the optional <code>sheet</code>
parameter to specify which sheet to read; by default the first sheet is
read.</p>
<p>It’s also recommended to use the <code>here</code> function to
specify the location of the file within your project; this allows you to
move your script or Quarto file to subfolders within the project without
changing the code.</p>
<p>For example, the following code reads in a csv file
<code>test.csv</code> from the main folder, considers a single period
<code>.</code> and the code <code>NA</code> to be missing values, and
skips the first two lines. It also saves the result in the variable
<code>testdata</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">testdata</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="fu">here</span><span class="op">(</span><span class="st">"test.csv"</span><span class="op">)</span>, na <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"."</span>, <span class="st">"NA"</span><span class="op">)</span>, skip <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p>Here’s similar for reading an Excel file, that specifically chooses
to read from the sheet named <code>mydata</code>. If not specified, the
first sheet is chosen.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">testdata</span> <span class="op">&lt;-</span> <span class="fu">read_excel</span><span class="op">(</span><span class="fu">here</span><span class="op">(</span><span class="st">"test.csv"</span><span class="op">)</span>, sheet <span class="op">=</span> <span class="st">"mydata"</span>, na <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"."</span>, <span class="st">"NA"</span><span class="op">)</span>, skip <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p>For further examples in this document, I’ll use the
<code>mtcars2</code> data set, which is included in the
<code>umncvmstats</code> package.</p>
<div class="section level3">
<h3 id="checking-that-it-was-read-properly">Checking that it was read properly<a class="anchor" aria-label="anchor" href="#checking-that-it-was-read-properly"></a>
</h3>
<p>After first reading in a data file, use the <code>skim</code>
function to be sure it read in properly. This shows the number of rows
and columns that were read, and then for each type of variable
(character/factor/numeric, etc.), it shows some basic summary
information about each variable.</p>
<p>This function is in <code>umncvmstats</code> and uses the
<code>skimr</code> package behind the scenes; further control is
possible by using that package directly.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars2</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/skim.html">skim</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><strong>Summary of mtcars2:</strong></p>
<p>32 rows, 12 columns</p>
<p><strong>Variable type: character</strong></p>
<table class="table">
<colgroup>
<col width="19%">
<col width="13%">
<col width="19%">
<col width="5%">
<col width="5%">
<col width="8%">
<col width="12%">
<col width="15%">
</colgroup>
<thead><tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">min</th>
<th align="right">max</th>
<th align="right">empty</th>
<th align="right">n_unique</th>
<th align="right">whitespace</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">model</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">7</td>
<td align="right">19</td>
<td align="right">0</td>
<td align="right">32</td>
<td align="right">0</td>
</tr></tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table class="table">
<colgroup>
<col width="17%">
<col width="12%">
<col width="17%">
<col width="10%">
<col width="11%">
<col width="31%">
</colgroup>
<thead><tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="left">ordered</th>
<th align="right">n_unique</th>
<th align="left">top_counts</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">cyl</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">3</td>
<td align="left">8: 14, 4: 11, 6: 7</td>
</tr>
<tr class="even">
<td align="left">vs</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">2</td>
<td align="left">V-s: 18, str: 14</td>
</tr>
<tr class="odd">
<td align="left">am</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">2</td>
<td align="left">aut: 19, man: 13</td>
</tr>
<tr class="even">
<td align="left">gear</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">3</td>
<td align="left">3: 15, 4: 12, 5: 5</td>
</tr>
<tr class="odd">
<td align="left">carb</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">6</td>
<td align="left">2: 10, 4: 10, 1: 7, 3: 3</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table">
<colgroup>
<col width="15%">
<col width="10%">
<col width="15%">
<col width="7%">
<col width="7%">
<col width="6%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="6%">
</colgroup>
<thead><tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">mpg</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">20.09</td>
<td align="right">6.03</td>
<td align="right">10.40</td>
<td align="right">15.43</td>
<td align="right">19.20</td>
<td align="right">22.80</td>
<td align="right">33.90</td>
<td align="left">▃▇▅▁▂</td>
</tr>
<tr class="even">
<td align="left">disp</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">230.72</td>
<td align="right">123.94</td>
<td align="right">71.10</td>
<td align="right">120.83</td>
<td align="right">196.30</td>
<td align="right">326.00</td>
<td align="right">472.00</td>
<td align="left">▇▃▃▃▂</td>
</tr>
<tr class="odd">
<td align="left">hp</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">146.69</td>
<td align="right">68.56</td>
<td align="right">52.00</td>
<td align="right">96.50</td>
<td align="right">123.00</td>
<td align="right">180.00</td>
<td align="right">335.00</td>
<td align="left">▇▇▆▃▁</td>
</tr>
<tr class="even">
<td align="left">drat</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3.60</td>
<td align="right">0.53</td>
<td align="right">2.76</td>
<td align="right">3.08</td>
<td align="right">3.70</td>
<td align="right">3.92</td>
<td align="right">4.93</td>
<td align="left">▇▃▇▅▁</td>
</tr>
<tr class="odd">
<td align="left">wt</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3.22</td>
<td align="right">0.98</td>
<td align="right">1.51</td>
<td align="right">2.58</td>
<td align="right">3.33</td>
<td align="right">3.61</td>
<td align="right">5.42</td>
<td align="left">▃▃▇▁▂</td>
</tr>
<tr class="even">
<td align="left">qsec</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">17.85</td>
<td align="right">1.79</td>
<td align="right">14.50</td>
<td align="right">16.89</td>
<td align="right">17.71</td>
<td align="right">18.90</td>
<td align="right">22.90</td>
<td align="left">▃▇▇▂▁</td>
</tr>
</tbody>
</table>
<p>In R, a categorical variable is called a <code>factor</code>; text
variables should usually be factors unless they are simply used for
identification, like the <code>model</code> variable, here.</p>
<p>The most common error is that a variable that should be numeric is
read in as text, due to an unspecified missing value code. Be sure to
check that all variables are of the expected type, and that the values
as summarized make sense.</p>
</div>
<div class="section level3">
<h3 id="creating-factors">Creating factors<a class="anchor" aria-label="anchor" href="#creating-factors"></a>
</h3>
<p>The <code>mtcars2</code> data set is based on the <code>mtcars</code>
data set, which is included in your basic R installation. In the
original <code>mtcars</code> data set, though, all variables are
numeric; the categorical variables are all coded as 0/1.</p>
<p>Compare the <code>skim</code> summary of the <code>mtcars</code> data
set with <code>mtcars2</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/skim.html">skim</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><strong>Summary of mtcars:</strong></p>
<p>32 rows, 11 columns</p>
<p><strong>Variable type: numeric</strong></p>
<table class="table">
<colgroup>
<col width="15%">
<col width="10%">
<col width="15%">
<col width="7%">
<col width="7%">
<col width="6%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="6%">
</colgroup>
<thead><tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">mpg</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">20.09</td>
<td align="right">6.03</td>
<td align="right">10.40</td>
<td align="right">15.43</td>
<td align="right">19.20</td>
<td align="right">22.80</td>
<td align="right">33.90</td>
<td align="left">▃▇▅▁▂</td>
</tr>
<tr class="even">
<td align="left">cyl</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">6.19</td>
<td align="right">1.79</td>
<td align="right">4.00</td>
<td align="right">4.00</td>
<td align="right">6.00</td>
<td align="right">8.00</td>
<td align="right">8.00</td>
<td align="left">▆▁▃▁▇</td>
</tr>
<tr class="odd">
<td align="left">disp</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">230.72</td>
<td align="right">123.94</td>
<td align="right">71.10</td>
<td align="right">120.83</td>
<td align="right">196.30</td>
<td align="right">326.00</td>
<td align="right">472.00</td>
<td align="left">▇▃▃▃▂</td>
</tr>
<tr class="even">
<td align="left">hp</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">146.69</td>
<td align="right">68.56</td>
<td align="right">52.00</td>
<td align="right">96.50</td>
<td align="right">123.00</td>
<td align="right">180.00</td>
<td align="right">335.00</td>
<td align="left">▇▇▆▃▁</td>
</tr>
<tr class="odd">
<td align="left">drat</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3.60</td>
<td align="right">0.53</td>
<td align="right">2.76</td>
<td align="right">3.08</td>
<td align="right">3.70</td>
<td align="right">3.92</td>
<td align="right">4.93</td>
<td align="left">▇▃▇▅▁</td>
</tr>
<tr class="even">
<td align="left">wt</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3.22</td>
<td align="right">0.98</td>
<td align="right">1.51</td>
<td align="right">2.58</td>
<td align="right">3.33</td>
<td align="right">3.61</td>
<td align="right">5.42</td>
<td align="left">▃▃▇▁▂</td>
</tr>
<tr class="odd">
<td align="left">qsec</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">17.85</td>
<td align="right">1.79</td>
<td align="right">14.50</td>
<td align="right">16.89</td>
<td align="right">17.71</td>
<td align="right">18.90</td>
<td align="right">22.90</td>
<td align="left">▃▇▇▂▁</td>
</tr>
<tr class="even">
<td align="left">vs</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.44</td>
<td align="right">0.50</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">1.00</td>
<td align="right">1.00</td>
<td align="left">▇▁▁▁▆</td>
</tr>
<tr class="odd">
<td align="left">am</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.41</td>
<td align="right">0.50</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">1.00</td>
<td align="right">1.00</td>
<td align="left">▇▁▁▁▆</td>
</tr>
<tr class="even">
<td align="left">gear</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3.69</td>
<td align="right">0.74</td>
<td align="right">3.00</td>
<td align="right">3.00</td>
<td align="right">4.00</td>
<td align="right">4.00</td>
<td align="right">5.00</td>
<td align="left">▇▁▆▁▂</td>
</tr>
<tr class="odd">
<td align="left">carb</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.81</td>
<td align="right">1.62</td>
<td align="right">1.00</td>
<td align="right">2.00</td>
<td align="right">2.00</td>
<td align="right">4.00</td>
<td align="right">8.00</td>
<td align="left">▇▂▅▁▁</td>
</tr>
</tbody>
</table>
<p>To convert these variables into categorical variables, we use the
functions <code>mutate</code>, <code>as_factor</code>, and optionally
<code>fct_recode</code>; we’ll see more about them later, for now, let’s
just see a couple examples of how we use them to convert these
variables.</p>
<ul>
<li>
<code>mutate</code> function creates new variables (possibly
overwriting old ones). Within <code>mutate</code> we use
<code>newname = [operation]</code> to perform an operation and assign
the result to the variable <code>newname</code>. Multiple variables can
be created within one call to <code>mutate</code> by using commas.</li>
<li>
<code>as_factor</code> converts a variable to a categorical
variable. You may also see the original version, <code>factor</code>;
this version is from the <code>tidyverse</code> and is preferred for
improved consistency.</li>
<li>
<code>fct_recode</code> changes the coding of the values.</li>
</ul>
<p>As an example, the following code:</p>
<ul>
<li>will save the result into a new variable <code>my_mtcars</code>
</li>
<li>pipes the <code>mtcars</code> dataset into the <code>mutate</code>
function, then within mutate,
<ul>
<li>creates a new variable <code>cyl</code> (which will overwrite the
previous <code>cyl</code>) by running <code>as_factor</code> on the
<code>cyl</code> variable</li>
<li>creates a new variable <code>vs</code> (which again, overwrites the
previous <code>vs</code>) by first running <code>as_factor</code> on
<code>vs</code> and then recoding it so that <code>0</code> becomes
<code>V-shaped</code> and <code>1</code> becomes <code>Straight</code>.
Quotation marks are recommended, though in certain cases are not
absolutely necessary.</li>
</ul>
</li>
</ul>
<p>We then <code>skim</code> the new result.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_mtcars</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>cyl <span class="op">=</span> <span class="fu">as_factor</span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span>,</span>
<span>         vs <span class="op">=</span> <span class="fu">as_factor</span><span class="op">(</span><span class="va">vs</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">fct_recode</span><span class="op">(</span><span class="st">"V-shaped"</span><span class="op">=</span><span class="st">"0"</span>, <span class="st">"Straight"</span><span class="op">=</span><span class="st">"1"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/skim.html">skim</a></span><span class="op">(</span><span class="va">my_mtcars</span><span class="op">)</span></span></code></pre></div>
<p><strong>Summary of my_mtcars:</strong></p>
<p>32 rows, 11 columns</p>
<p><strong>Variable type: factor</strong></p>
<table class="table">
<colgroup>
<col width="18%">
<col width="13%">
<col width="18%">
<col width="10%">
<col width="12%">
<col width="25%">
</colgroup>
<thead><tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="left">ordered</th>
<th align="right">n_unique</th>
<th align="left">top_counts</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">cyl</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">3</td>
<td align="left">8: 14, 4: 11, 6: 7</td>
</tr>
<tr class="even">
<td align="left">vs</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">2</td>
<td align="left">V-s: 18, Str: 14</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table">
<colgroup>
<col width="15%">
<col width="10%">
<col width="15%">
<col width="7%">
<col width="7%">
<col width="6%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="6%">
</colgroup>
<thead><tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">mpg</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">20.09</td>
<td align="right">6.03</td>
<td align="right">10.40</td>
<td align="right">15.43</td>
<td align="right">19.20</td>
<td align="right">22.80</td>
<td align="right">33.90</td>
<td align="left">▃▇▅▁▂</td>
</tr>
<tr class="even">
<td align="left">disp</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">230.72</td>
<td align="right">123.94</td>
<td align="right">71.10</td>
<td align="right">120.83</td>
<td align="right">196.30</td>
<td align="right">326.00</td>
<td align="right">472.00</td>
<td align="left">▇▃▃▃▂</td>
</tr>
<tr class="odd">
<td align="left">hp</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">146.69</td>
<td align="right">68.56</td>
<td align="right">52.00</td>
<td align="right">96.50</td>
<td align="right">123.00</td>
<td align="right">180.00</td>
<td align="right">335.00</td>
<td align="left">▇▇▆▃▁</td>
</tr>
<tr class="even">
<td align="left">drat</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3.60</td>
<td align="right">0.53</td>
<td align="right">2.76</td>
<td align="right">3.08</td>
<td align="right">3.70</td>
<td align="right">3.92</td>
<td align="right">4.93</td>
<td align="left">▇▃▇▅▁</td>
</tr>
<tr class="odd">
<td align="left">wt</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3.22</td>
<td align="right">0.98</td>
<td align="right">1.51</td>
<td align="right">2.58</td>
<td align="right">3.33</td>
<td align="right">3.61</td>
<td align="right">5.42</td>
<td align="left">▃▃▇▁▂</td>
</tr>
<tr class="even">
<td align="left">qsec</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">17.85</td>
<td align="right">1.79</td>
<td align="right">14.50</td>
<td align="right">16.89</td>
<td align="right">17.71</td>
<td align="right">18.90</td>
<td align="right">22.90</td>
<td align="left">▃▇▇▂▁</td>
</tr>
<tr class="odd">
<td align="left">am</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0.41</td>
<td align="right">0.50</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">1.00</td>
<td align="right">1.00</td>
<td align="left">▇▁▁▁▆</td>
</tr>
<tr class="even">
<td align="left">gear</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3.69</td>
<td align="right">0.74</td>
<td align="right">3.00</td>
<td align="right">3.00</td>
<td align="right">4.00</td>
<td align="right">4.00</td>
<td align="right">5.00</td>
<td align="left">▇▁▆▁▂</td>
</tr>
<tr class="odd">
<td align="left">carb</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">2.81</td>
<td align="right">1.62</td>
<td align="right">1.00</td>
<td align="right">2.00</td>
<td align="right">2.00</td>
<td align="right">4.00</td>
<td align="right">8.00</td>
<td align="left">▇▂▅▁▁</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="summarizing-data">Summarizing data<a class="anchor" aria-label="anchor" href="#summarizing-data"></a>
</h2>
<div class="section level3">
<h3 id="descriptive-statistics-for-all-variables">Descriptive statistics for all variables<a class="anchor" aria-label="anchor" href="#descriptive-statistics-for-all-variables"></a>
</h3>
<p>To get basic descriptive statistics, use the
<code>descriptive_statistics</code> function, which shows
mean/SD/median/range for continuous variables and count/percent for
categorical variables (or continuous variables with just a few
values).</p>
<p>Here I’m using <code>select</code> (to be seen later) to remove the
<code>model</code> variable before computing these statistics.</p>
<p>This is a version of <code>tbl_summary</code> from the
<code>gtsummary</code> package; further control is possible by using
that package directly.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars2</span> <span class="op">|&gt;</span> <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">model</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/descriptive_statistics.html">descriptive_statistics</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="mwlefoodfi" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#mwlefoodfi table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#mwlefoodfi thead, #mwlefoodfi tbody, #mwlefoodfi tfoot, #mwlefoodfi tr, #mwlefoodfi td, #mwlefoodfi th {
  border-style: none;
}

#mwlefoodfi p {
  margin: 0;
  padding: 0;
}

#mwlefoodfi .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 13px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#mwlefoodfi .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#mwlefoodfi .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#mwlefoodfi .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#mwlefoodfi .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#mwlefoodfi .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#mwlefoodfi .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#mwlefoodfi .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#mwlefoodfi .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#mwlefoodfi .gt_spanner_row {
  border-bottom-style: hidden;
}

#mwlefoodfi .gt_group_heading {
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#mwlefoodfi .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#mwlefoodfi .gt_from_md > :first-child {
  margin-top: 0;
}

#mwlefoodfi .gt_from_md > :last-child {
  margin-bottom: 0;
}

#mwlefoodfi .gt_row {
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#mwlefoodfi .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#mwlefoodfi .gt_row_group_first td {
  border-top-width: 2px;
}

#mwlefoodfi .gt_row_group_first th {
  border-top-width: 2px;
}

#mwlefoodfi .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#mwlefoodfi .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#mwlefoodfi .gt_last_summary_row {
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_first_grand_summary_row {
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#mwlefoodfi .gt_last_grand_summary_row_top {
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#mwlefoodfi .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_sourcenote {
  font-size: 90%;
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_left {
  text-align: left;
}

#mwlefoodfi .gt_center {
  text-align: center;
}

#mwlefoodfi .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#mwlefoodfi .gt_font_normal {
  font-weight: normal;
}

#mwlefoodfi .gt_font_bold {
  font-weight: bold;
}

#mwlefoodfi .gt_font_italic {
  font-style: italic;
}

#mwlefoodfi .gt_super {
  font-size: 65%;
}

#mwlefoodfi .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#mwlefoodfi .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#mwlefoodfi .gt_indent_1 {
  text-indent: 5px;
}

#mwlefoodfi .gt_indent_2 {
  text-indent: 10px;
}

#mwlefoodfi .gt_indent_3 {
  text-indent: 15px;
}

#mwlefoodfi .gt_indent_4 {
  text-indent: 20px;
}

#mwlefoodfi .gt_indent_5 {
  text-indent: 25px;
}

#mwlefoodfi .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#mwlefoodfi div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="&lt;span class='gt_from_md'&gt;&lt;strong&gt;Characteristic&lt;/strong&gt;&lt;/span&gt;"><span class="gt_from_md"><strong>Characteristic</strong></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="&lt;span class='gt_from_md'&gt;&lt;strong&gt;N = 32&lt;/strong&gt;&lt;/span&gt;"><span class="gt_from_md"><strong>N = 32</strong></span></th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="label" class="gt_row gt_left">mpg</td>
<td headers="stat_0" class="gt_row gt_center"><br></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    Mean ± SD</td>
<td headers="stat_0" class="gt_row gt_center">20.09 ± 6.03</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    Median (Min, Max)</td>
<td headers="stat_0" class="gt_row gt_center">19.20 (10.40, 33.90)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">cyl, n/N (%)</td>
<td headers="stat_0" class="gt_row gt_center"><br></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    4</td>
<td headers="stat_0" class="gt_row gt_center">11/32 (34%)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    6</td>
<td headers="stat_0" class="gt_row gt_center">7/32 (22%)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    8</td>
<td headers="stat_0" class="gt_row gt_center">14/32 (44%)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">disp</td>
<td headers="stat_0" class="gt_row gt_center"><br></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    Mean ± SD</td>
<td headers="stat_0" class="gt_row gt_center">230.72 ± 123.94</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    Median (Min, Max)</td>
<td headers="stat_0" class="gt_row gt_center">196.30 (71.10, 472.00)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">hp</td>
<td headers="stat_0" class="gt_row gt_center"><br></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    Mean ± SD</td>
<td headers="stat_0" class="gt_row gt_center">146.69 ± 68.56</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    Median (Min, Max)</td>
<td headers="stat_0" class="gt_row gt_center">123.00 (52.00, 335.00)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">drat</td>
<td headers="stat_0" class="gt_row gt_center"><br></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    Mean ± SD</td>
<td headers="stat_0" class="gt_row gt_center">3.60 ± 0.53</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    Median (Min, Max)</td>
<td headers="stat_0" class="gt_row gt_center">3.70 (2.76, 4.93)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">wt</td>
<td headers="stat_0" class="gt_row gt_center"><br></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    Mean ± SD</td>
<td headers="stat_0" class="gt_row gt_center">3.22 ± 0.98</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    Median (Min, Max)</td>
<td headers="stat_0" class="gt_row gt_center">3.33 (1.51, 5.42)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">qsec</td>
<td headers="stat_0" class="gt_row gt_center"><br></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    Mean ± SD</td>
<td headers="stat_0" class="gt_row gt_center">17.85 ± 1.79</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    Median (Min, Max)</td>
<td headers="stat_0" class="gt_row gt_center">17.71 (14.50, 22.90)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">vs, n/N (%)</td>
<td headers="stat_0" class="gt_row gt_center"><br></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    V-shaped</td>
<td headers="stat_0" class="gt_row gt_center">18/32 (56%)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    straight</td>
<td headers="stat_0" class="gt_row gt_center">14/32 (44%)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">am, n/N (%)</td>
<td headers="stat_0" class="gt_row gt_center"><br></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    automatic</td>
<td headers="stat_0" class="gt_row gt_center">19/32 (59%)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    manual</td>
<td headers="stat_0" class="gt_row gt_center">13/32 (41%)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">gear, n/N (%)</td>
<td headers="stat_0" class="gt_row gt_center"><br></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    3</td>
<td headers="stat_0" class="gt_row gt_center">15/32 (47%)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    4</td>
<td headers="stat_0" class="gt_row gt_center">12/32 (38%)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    5</td>
<td headers="stat_0" class="gt_row gt_center">5/32 (16%)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">carb, n/N (%)</td>
<td headers="stat_0" class="gt_row gt_center"><br></td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    1</td>
<td headers="stat_0" class="gt_row gt_center">7/32 (22%)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    2</td>
<td headers="stat_0" class="gt_row gt_center">10/32 (31%)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    3</td>
<td headers="stat_0" class="gt_row gt_center">3/32 (9.4%)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    4</td>
<td headers="stat_0" class="gt_row gt_center">10/32 (31%)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    6</td>
<td headers="stat_0" class="gt_row gt_center">1/32 (3.1%)</td>
</tr>
<tr>
<td headers="label" class="gt_row gt_left">    8</td>
<td headers="stat_0" class="gt_row gt_center">1/32 (3.1%)</td>
</tr>
</tbody>
</table>
</div>
<p>One can also compute these statistics on subsets of the data, by
splitting it by another variable first, using the <code>by</code>
parameter. This code gets descriptive statistics for each
<code>am</code> group (automatic and manual) separately.</p>
<p>[Output not shown]</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars2</span> <span class="op">|&gt;</span> <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">model</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/descriptive_statistics.html">descriptive_statistics</a></span><span class="op">(</span>by<span class="op">=</span><span class="va">am</span><span class="op">)</span></span></code></pre></div>
<p>This output is formatted, making it great for understanding and
display, but hard to work with further. To work with further, we’d need
to compute these values ourselves.</p>
</div>
<div class="section level3">
<h3 id="summarizing-categorical-variables">Summarizing categorical variables<a class="anchor" aria-label="anchor" href="#summarizing-categorical-variables"></a>
</h3>
<p>Use <code>count</code> to count categorical variables; count
combinations of multiple variables by separating with a comma.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars2</span> <span class="op">|&gt;</span> <span class="fu">count</span><span class="op">(</span><span class="va">vs</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 2</span></span></span>
<span><span class="co">#&gt;   vs           n</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> V-shaped    18</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> straight    14</span></span>
<span><span class="va">mtcars2</span> <span class="op">|&gt;</span> <span class="fu">count</span><span class="op">(</span><span class="va">vs</span>, <span class="va">am</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 3</span></span></span>
<span><span class="co">#&gt;   vs       am            n</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> V-shaped automatic    12</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> V-shaped manual        6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> straight automatic     7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> straight manual        7</span></span></code></pre></div>
<p>We can then use <code>mutate</code> to make a new variable with the
percent; see more on <code>mutate</code> later. This adds columns with
the overall percent for each desired combination of variables. Note that
within each computation, the percents sum to 100%.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars2</span> <span class="op">|&gt;</span> <span class="fu">count</span><span class="op">(</span><span class="va">vs</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">mutate</span><span class="op">(</span>percent <span class="op">=</span> <span class="va">n</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 3</span></span></span>
<span><span class="co">#&gt;   vs           n percent</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> V-shaped    18   0.562</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> straight    14   0.438</span></span>
<span><span class="va">mtcars2</span> <span class="op">|&gt;</span> <span class="fu">count</span><span class="op">(</span><span class="va">vs</span>, <span class="va">am</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">mutate</span><span class="op">(</span>percent <span class="op">=</span> <span class="va">n</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 4</span></span></span>
<span><span class="co">#&gt;   vs       am            n percent</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> V-shaped automatic    12   0.375</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> V-shaped manual        6   0.188</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> straight automatic     7   0.219</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> straight manual        7   0.219</span></span></code></pre></div>
<p>If, however, we want to compute the percent of one variable within
categories of another variable, we can use the <code>.by</code>
parameter, which does the computation separately for each value of the
specified variable. Now the percents within each value of
<code>am</code> (automatic or manual) sum to 100%.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars2</span> <span class="op">|&gt;</span> <span class="fu">count</span><span class="op">(</span><span class="va">vs</span>, <span class="va">am</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">mutate</span><span class="op">(</span>percent <span class="op">=</span> <span class="va">n</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span>, .by<span class="op">=</span><span class="va">am</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 4</span></span></span>
<span><span class="co">#&gt;   vs       am            n percent</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> V-shaped automatic    12   0.632</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> V-shaped manual        6   0.462</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> straight automatic     7   0.368</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> straight manual        7   0.538</span></span></code></pre></div>
<p>Another option is to use <code>xtabs</code> to get a
“cross-tabulation” of multiple variables. This uses the “formula”
syntax, which we’ll see more of when we do inference. It also stores the
result in a matrix, which is easier to view but harder to work with. The
row and columns sums can be added using <code>addmargins</code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">vs</span> <span class="op">+</span> <span class="va">am</span>, data<span class="op">=</span><span class="va">mtcars2</span><span class="op">)</span></span>
<span><span class="co">#&gt;           am</span></span>
<span><span class="co">#&gt; vs         automatic manual</span></span>
<span><span class="co">#&gt;   V-shaped        12      6</span></span>
<span><span class="co">#&gt;   straight         7      7</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="op">~</span><span class="va">vs</span> <span class="op">+</span> <span class="va">am</span>, data<span class="op">=</span><span class="va">mtcars2</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/stats/addmargins.html" class="external-link">addmargins</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;           am</span></span>
<span><span class="co">#&gt; vs         automatic manual Sum</span></span>
<span><span class="co">#&gt;   V-shaped        12      6  18</span></span>
<span><span class="co">#&gt;   straight         7      7  14</span></span>
<span><span class="co">#&gt;   Sum             19     13  32</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="summarizing-continuous-variables">Summarizing continuous variables<a class="anchor" aria-label="anchor" href="#summarizing-continuous-variables"></a>
</h3>
<p>To get summary statistics for a continuous variable, use
<code>summarize</code>. Within <code>summarize</code>, use
<code>newname = [operation]</code> to perform an operation and assign
the result to the variable. To do this separately for each value of a
categorical variable, use the <code>.by</code> parameter. Note the
<code>.</code> in front of <code>.by</code>; that is used here to make
conflicts with your desired name less likely.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars2</span> <span class="op">|&gt;</span> <span class="fu">summarize</span><span class="op">(</span>mean_mpg<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span>, sd_mpg<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 2</span></span></span>
<span><span class="co">#&gt;   mean_mpg sd_mpg</span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     20.1   6.03</span></span>
<span><span class="va">mtcars2</span> <span class="op">|&gt;</span> <span class="fu">summarize</span><span class="op">(</span>mean_mpg<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span>, sd_mpg<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span>, .by<span class="op">=</span><span class="va">am</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 3</span></span></span>
<span><span class="co">#&gt;   am        mean_mpg sd_mpg</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> manual        24.4   6.17</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> automatic     17.1   3.83</span></span></code></pre></div>
<p>See list of useful summary functions below.</p>
</div>
</div>
<div class="section level2">
<h2 id="working-with-data">Working with data<a class="anchor" aria-label="anchor" href="#working-with-data"></a>
</h2>
<div class="section level3">
<h3 id="selecting-rows-or-columns">Selecting rows or columns<a class="anchor" aria-label="anchor" href="#selecting-rows-or-columns"></a>
</h3>
<ul>
<li>Selecting columns (<code>select</code>)
<ul>
<li>Select <code>model</code> and <code>mpg</code> columns:
<code>mtcars2 |&gt; select(model, mpg)</code>
</li>
<li>Select all but <code>model</code> and <code>mpg</code> columns:
<code>mtcars2 |&gt; select(-model, -mpg)</code>
</li>
</ul>
</li>
<li>Selecting rows (<code>filter</code>)
<ul>
<li>Select rows that have manual transmissions:
<code>mtcars2 |&gt; filter(am=="manual")</code>
</li>
<li>Select rows that have mpg &gt; 25:
<code>mtcars2 |&gt; filter(mpg &gt; 25)</code>
</li>
<li>See “Comparison” below for more options</li>
</ul>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="sorting">Sorting<a class="anchor" aria-label="anchor" href="#sorting"></a>
</h3>
<p>Use <code>arrange</code> to sort</p>
<ul>
<li>Sort by increasing mpg: <code>mtcars2 |&gt; arrange(mpg)</code>
</li>
<li>Sort by decreasing mpg:
<code>mtcars2 |&gt; arrange(desc(mpg))</code>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="creating-new-variables">Creating new variables<a class="anchor" aria-label="anchor" href="#creating-new-variables"></a>
</h3>
<p>We use the <code>mutate</code> function to add a variable.</p>
<ul>
<li>
<code>mutate</code> function creates new variables (possibly
overwriting old ones). Within <code>mutate</code> we use
<code>newname = [operation]</code> to perform an operation and assign
the result to the variable</li>
</ul>
<p>Best practice is that variables use only letters, numbers, and the
underscore (<code>_</code>), and start with a letter.</p>
<p>This data set has fuel economy in miles per gallon
(<code>mpg</code>); suppose we instead want to use the UK standard of
liters/100 kilometers.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars2</span> <span class="op">&lt;-</span> <span class="va">mtcars2</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Lp100km <span class="op">=</span> <span class="fl">3.78541</span> <span class="op">/</span> <span class="fl">1.60934</span> <span class="op">*</span> <span class="fl">100</span> <span class="op">/</span> <span class="va">mpg</span><span class="op">)</span></span>
<span><span class="va">mtcars2</span> <span class="op">|&gt;</span> <span class="fu">select</span><span class="op">(</span><span class="va">mpg</span>, <span class="va">Lp100km</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/skim.html">skim</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><strong>Summary of select(mtcars2, mpg, Lp10…:</strong></p>
<p>32 rows, 2 columns</p>
<p><strong>Variable type: numeric</strong></p>
<table style="width:100%;" class="table">
<colgroup>
<col width="16%">
<col width="11%">
<col width="16%">
<col width="7%">
<col width="5%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="7%">
</colgroup>
<thead><tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">mpg</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">20.09</td>
<td align="right">6.03</td>
<td align="right">10.40</td>
<td align="right">15.43</td>
<td align="right">19.20</td>
<td align="right">22.80</td>
<td align="right">33.90</td>
<td align="left">▃▇▅▁▂</td>
</tr>
<tr class="even">
<td align="left">Lp100km</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">12.76</td>
<td align="right">3.86</td>
<td align="right">6.94</td>
<td align="right">10.32</td>
<td align="right">12.25</td>
<td align="right">15.25</td>
<td align="right">22.62</td>
<td align="left">▅▇▆▁▁</td>
</tr>
</tbody>
</table>
<p>In addition to arithmetic, there are a number of useful function for
creating new variables, as seen below.</p>
</div>
</div>
<div class="section level2">
<h2 id="useful-functions">Useful functions<a class="anchor" aria-label="anchor" href="#useful-functions"></a>
</h2>
<div class="section level3">
<h3 id="for-summarizing">For summarizing<a class="anchor" aria-label="anchor" href="#for-summarizing"></a>
</h3>
<p>Useful summary functions include:</p>
<ul>
<li>
<code>mean</code>: mean</li>
<li>
<code>sd</code>: standard deviation</li>
<li>
<code>var</code>: variance</li>
<li>
<code>median</code>: median</li>
<li>
<code>quantile</code>: quantile (or percentile); use the
<code>probs</code> parameter to specify which. For example,
<code>quantile(x, probs=0.25)</code> gets the 25th percentile of the
variable <code>x</code>.</li>
<li>
<code>min</code>: minimum value</li>
<li>
<code>max</code>: maximum value</li>
<li>
<code>IQR</code>: interquartile range</li>
<li>
<code>n()</code>: to get the number of observations (including when
grouped using <code>.by</code>)</li>
</ul>
<p>R is very careful with missing values and will not compute these if
any of the values are missing; this is a good thing as it forces you to
specifically handle it. If you want to remove any missing values before
computing these statistics, set the parameter <code>na.rm = TRUE</code>
for any of these functions.</p>
</div>
<div class="section level3">
<h3 id="for-comparing">For comparing<a class="anchor" aria-label="anchor" href="#for-comparing"></a>
</h3>
<ul>
<li>less than/greater to: <code>&lt;</code>, <code>&lt;=</code>,
<code>&gt;</code>, <code>&gt;=</code>,</li>
<li>equal to <code>==</code>, not equal to <code>!=</code> (note the
double equals to test equality)</li>
<li>
<code>%in%</code>: tests if a value is in a vector, for example
<ul>
<li>For example, for a variable <code>v &lt;- c("a", "b", "c")</code>,
the operation <code>v %in% c("a", "b")</code> returns the vector
<code>c(TRUE, TRUE, FALSE)</code>.</li>
</ul>
</li>
<li>Boolean operators: or <code>|</code>, and <code>&amp;</code>, not
<code>!</code>
</li>
<li>to test if a value is missing, use <code>is.na</code>; using
<code>==NA</code> does not work. This is also vectorized; try
<code>is.na(c(1,2,NA,4))</code>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="for-creating-new-variables">For creating new variables<a class="anchor" aria-label="anchor" href="#for-creating-new-variables"></a>
</h3>
<ul>
<li>arithmetic functions (<code>+</code>, <code>-</code>,
<code>*</code>, <code>/</code>)</li>
<li>log functions; natural log is default, but base 10 and base 2 also
can be used: <code>log</code>, <code>log10</code>,
<code>log2</code>
</li>
<li>For creating new variables based on conditions:
<ul>
<li>For a binary condition: <code>if_else</code>
</li>
<li>For several possible conditions: <code>case_when</code>
</li>
<li>To break a numeric variable into categories: <code>cut</code>
</li>
</ul>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="for-factors">For factors<a class="anchor" aria-label="anchor" href="#for-factors"></a>
</h3>
<ul>
<li>
<code>as_factor</code>: creates a factor</li>
<li>
<code>fct_recode</code>: recodes the levels to different values</li>
<li>
<code>fct_relevel</code>: reorders the factor levels by hand</li>
<li>
<code>fct_infreq</code>, <code>fct_reorder</code>: reorders the
factor levels either by frequency or by sorting along another
variable</li>
<li>
<code>droplevels</code>: removes levels that have zero values</li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Aaron Rendahl.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
